function toggleInterval(a){void 0!==a&&(window.paused=a);var b=document.getElementById("pauseButton");window.paused?(switching=setInterval("toggleSlide(true)",interval),b.value="Pause"):(clearInterval(switching),b.value="Play"),window.paused=!window.paused}function toggleSlide(a){var b=document.getElementsByClassName(hideable),c=document.getElementById(slideNumber),d=getVisible(b);if(b[d].style.display="none",a)var e=next(d,b.length);else var e=prev(d,b.length);b[e].style.display="block",transition&&transitionSlide(d,e),colorBulletPoints(e),c.innerHTML=e+1}function transitionSlide(a,b){setTimeout(function(){var c=document.getElementById(a).children[0],d=document.getElementById(b).children[0];c.setAttribute("class","tr"),d.setAttribute("class","tr opaque")},15)}function changeTransition(){transition=!transition,resetImageClass(transition)}function resetImageClass(a){for(var b,c=getTotalNbSlide(),d=0;c>d;++d)b=document.getElementById(d).children[0],a?b.setAttribute("class","tr"):b.removeAttribute("class")}function getVisible(a){for(var b=0;b<a.length;++b)if("block"==a[b].style.display)return b;return-1}function prev(a,b){return 0==a?b-1:a-1}function next(a,b){return a==b-1?0:a+1}function initSlideshow(){setSlideNumber(),setTotalSlide(),setBulletPoints()}function setSlideNumber(){var a=document.getElementsByClassName(hideable),b=document.getElementById(slideNumber);b.innerText=getVisible(a)+1}function getTotalNbSlide(){var a=document.getElementsByClassName(hideable);return a.length}function setTotalSlide(){var a=document.getElementById(totalSlide);a.innerText=getTotalNbSlide()}function setBulletPoints(){var a=document.getElementById("bulletPoints");a.innerHTML="";for(var b=getTotalNbSlide(),c=0;b>c;++c){var d=document.createElement("li"),e=document.createElement("a");a.appendChild(d),e.setAttribute("onClick","goToImage("+c+")"),e.setAttribute("id","point"+c),d.appendChild(e)}var f=document.getElementById("point0");f.style.background="#7CB17D"}function goToImage(a){var b=document.getElementsByClassName(hideable),c=document.getElementById(slideNumber),d=getVisible(b);b[d].style.display="none",b[a].style.display="block",c.innerHTML=a+1,colorBulletPoints(a)}function colorBulletPoints(a){for(var b=document.getElementById("point"+a),c=0;c<getTotalNbSlide();++c){var d=document.getElementById("point"+c);d.style.background="black"}b.style.background="#7CB17D"}var interval=3e3,switching,slideNumber="slideNumber",hideable="hideable",totalSlide="totalSlide",transition=!0;window.paused=!0,document.addEventListener("DOMContentLoaded",function(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&(200==a.status||0==a.status)){var b=JSON.parse(a.responseText);for(var c in b){var d=document.createElement("li");d.setAttribute("id",c),d.setAttribute("class","hideable");var e=document.createElement("img");e.setAttribute("src",b[c]),0==c?(d.setAttribute("style","display: block;"),transition&&e.setAttribute("class","tr opaque")):(d.setAttribute("style","display: none;"),transition&&e.setAttribute("class","tr")),d.appendChild(e);var f=document.getElementById("slideshow-ul");f.appendChild(d)}initSlideshow(),toggleInterval(),f=document.getElementById("slideshow-ul"),f.addEventListener("mouseover",function(){toggleInterval(!1)}),f.addEventListener("mouseout",function(){toggleInterval(!0)}),document.onkeydown=function(a){switch(a=a||window.event,a.which||a.keyCode){case 32:toggleInterval();break;case 37:toggleSlide(!1);break;case 39:toggleSlide(!0)}};for(var g=document.getElementById("slideshow-navbar-pause"),h=g.children,i=0;i<h.length;++i)h[i].removeAttribute("disabled");for(var j=document.getElementById("slideshow-navbar-button"),k=j.children,i=0;i<k.length;++i)k[i].removeAttribute("disabled")}},a.open("GET","get-images.php",!0),a.send()});